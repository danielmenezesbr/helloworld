image: maven:latest

stages:
  - build
  - test
  - verify

build-job:
  stage: build
  script:
    - echo "Compiling the code..."
    - mvn clean package
    - echo "Compile complete."
  artifacts:
    paths:
    - target   

test-job:
  stage: test
  dependencies: 
    - build-job  
  script:
    - echo "Running tests... TODO!"

verify-job:
  stage: verify
  dependencies:
    - test-job
  script:
    - echo "Running verify..."
    - mvn verify
